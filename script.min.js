!function(){"use strict";var e=document.querySelector(".hero-reveal");if(e){function C(){e.classList.add("hero-ready")}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",C):requestAnimationFrame(C)}var t=document.querySelectorAll(".reveal");if(t.length&&"IntersectionObserver"in window){var n=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&e.target.classList.add("reveal-in")})},{threshold:.1,rootMargin:"0px 0px -40px 0px"});t.forEach(function(e){n.observe(e)})}var a=document.getElementById("year");a&&(a.textContent=(new Date).getFullYear());var i=document.querySelector(".nav-toggle"),o=document.querySelector(".nav-links");if(i&&o){i.addEventListener("click",function(){var e="true"===i.getAttribute("aria-expanded");i.setAttribute("aria-expanded",!e),o.classList.toggle("is-open"),document.body.style.overflow=e?"":"hidden"}),o.querySelectorAll("a").forEach(function(e){e.addEventListener("click",function(){i.setAttribute("aria-expanded","false"),o.classList.remove("is-open"),document.body.style.overflow=""})});var r=document.querySelector(".nav-close");r&&r.addEventListener("click",function(){i.setAttribute("aria-expanded","false"),o.classList.remove("is-open"),document.body.style.overflow=""})}var s=document.getElementById("about"),c=document.querySelector(".bio-content");if(s&&c){var d=!0,l=!1;new IntersectionObserver(function(e){e.forEach(function(e){var t=e.isIntersecting;if(d)return d=!1,l=t,void(t&&c.classList.add("in-view"));t&&!l&&c.classList.add("in-view"),l=t})},{threshold:.05,rootMargin:"0px 0px 0px 0px",root:null}).observe(s)}var u=document.querySelectorAll(".bio-filter-btn"),m=document.querySelectorAll(".bio-view");u.forEach(function(e){e.addEventListener("click",function(){var t=e.getAttribute("data-bio-view");t&&(u.forEach(function(e){var n=e.getAttribute("data-bio-view")===t;e.classList.toggle("is-active",n),e.setAttribute("aria-pressed",n?"true":"false")}),m.forEach(function(e){e.getAttribute("data-view")===t?e.removeAttribute("hidden"):e.setAttribute("hidden","")}))})});var v=document.querySelectorAll("section[id]"),f=document.querySelectorAll(".nav-links a[href^='#']");function y(){var e=window.scrollY||window.pageYOffset,t=document.querySelector(".site-header")?.offsetHeight||80;v.forEach(function(n){var a=n.getAttribute("id"),i=n.offsetTop-t,o=n.offsetHeight;e>=i&&e<i+o&&f.forEach(function(e){e.getAttribute("href")==="#"+a?e.setAttribute("aria-current","page"):e.removeAttribute("aria-current")})})}v.length&&f.length&&(window.addEventListener("scroll",y,{passive:!0}),y());var b=document.getElementById("open-contact-modal"),g=document.getElementById("contact-modal"),h=document.getElementById("contact-modal-backdrop"),p=document.getElementById("close-contact-modal"),A=null;function E(e){return Array.prototype.slice.call(e.querySelectorAll('a[href], button:not([disabled]), input:not([disabled]), textarea:not([disabled]), select:not([disabled]), [tabindex]:not([tabindex="-1"])'))}function L(e){if("Tab"===e.key&&g&&g.classList.contains("is-open")){var t=E(g);if(0!==t.length){var n=t[0],a=t[t.length-1];e.shiftKey?document.activeElement===n&&(e.preventDefault(),a.focus()):document.activeElement===a&&(e.preventDefault(),n.focus())}}}var w=document.getElementById("contact-modal-form"),S=g?g.querySelector(".contact-modal-box"):null,q=document.getElementById("contact-modal-success"),x=document.getElementById("contact-modal-submit-error");function k(){(function(){if(!w)return!1;var e=(w.querySelector("#contact-modal-name")||{}).value||"",t=(w.querySelector("#contact-modal-email")||{}).value||"",n=(w.querySelector("#contact-modal-message")||{}).value||"";return""!==e.trim()||""!==t.trim()||""!==n.trim()})()&&!confirm("You have unsaved changes. Close anyway?")||(g&&(g.classList.remove("is-open"),g.setAttribute("aria-hidden","true"),document.body.style.overflow="",document.removeEventListener("keydown",L),A&&"function"==typeof A.focus&&A.focus()),S&&S.classList.remove("is-sent"),q&&q.setAttribute("hidden",""),x&&x.setAttribute("hidden",""),w&&w.classList.remove("is-sending"))}b&&b.addEventListener("click",function(e){e.preventDefault(),function(){if(g){A=document.activeElement,g.classList.add("is-open"),g.setAttribute("aria-hidden","false"),document.body.style.overflow="hidden",document.addEventListener("keydown",L);var e=E(g),t=g.querySelector("#contact-modal-name");t?t.focus():p?p.focus():e.length>0&&e[0].focus()}}(),x&&x.setAttribute("hidden","")}),p&&p.addEventListener("click",k),h&&h.addEventListener("click",k),document.addEventListener("keydown",function(e){"Escape"===e.key&&g&&g.classList.contains("is-open")&&k()});var I=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*\.[a-zA-Z]{2,}$/,B=["mailinator.com","guerrillamail.com","10minutemail.com","temp-mail.org","throwaway.email","fakeinbox.com","trashmail.com","yopmail.com","mailnesia.com","tempmail.com","getnada.com","sharklasers.com","guerrillamail.info","maildrop.cc","tempail.com"];if(w&&S&&q){w.addEventListener("keydown",function(e){"Enter"===e.key&&"TEXTAREA"!==e.target.tagName&&(e.preventDefault(),w.requestSubmit())}),w.addEventListener("submit",function(e){e.preventDefault();var t=e.target;x&&x.setAttribute("hidden",""),function(e){var t=e.querySelector("#contact-modal-email"),n=e.querySelector("#contact-modal-email-error");t&&(t.classList.remove("is-invalid"),t.setAttribute("aria-invalid","false")),n&&(n.textContent="")}(t);var n,a,i,o=t.querySelector("#contact-modal-email"),r=t.querySelector("#contact-modal-email-error"),s=function(e){var t=(e||"").trim().toLowerCase();if(!t)return{valid:!1,message:"Email is required."};if(!I.test(t))return{valid:!1,message:"Please enter a valid email address."};var n=t.split("@")[1]||"";return-1!==B.indexOf(n)?{valid:!1,message:"Please use a permanent email address (disposable emails are not accepted)."}:{valid:!0}}(o?o.value:"");if(s.valid||(a=r,i=s,(n=o)&&a&&(n.classList.add("is-invalid"),n.setAttribute("aria-invalid","true"),a.textContent=i.message)),s.valid){var c=t.getAttribute("action");if(!c||-1!==c.indexOf("YOUR_FORM_ID"))return t.classList.add("is-sending"),void setTimeout(function(){t.classList.remove("is-sending"),S.classList.add("is-sent"),q.removeAttribute("hidden"),setTimeout(function(){k(),S.classList.remove("is-sent"),q.setAttribute("hidden",""),t.reset()},2200)},1200);t.classList.add("is-sending");var d=new FormData(t);fetch(c,{method:"POST",body:d,headers:{Accept:"application/json"}}).then(function(e){if(!e.ok)throw new Error("Submit failed");S.classList.add("is-sent"),q.removeAttribute("hidden"),t.reset(),setTimeout(function(){k(),S.classList.remove("is-sent"),q.setAttribute("hidden","")},2200)}).catch(function(){t.classList.remove("is-sending"),x&&x.removeAttribute("hidden")}).finally(function(){t.classList.remove("is-sending")})}});var O=w.querySelector("#contact-modal-email");O&&O.addEventListener("input",function(){this.classList.remove("is-invalid"),this.setAttribute("aria-invalid","false");var e=w.querySelector("#contact-modal-email-error");e&&(e.textContent="")});var D=w.querySelector("#contact-modal-message"),z=document.getElementById("contact-modal-char-count");if(D&&z){function T(){z.textContent=(D.value||"").length}D.addEventListener("input",T),D.addEventListener("change",T),T()}}}();